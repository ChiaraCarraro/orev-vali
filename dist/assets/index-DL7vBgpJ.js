import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css                     */const k="modulepreload",S=function(a,o){return new URL(a,o).href},v={},b=function(o,l,n){let m=Promise.resolve();if(l&&l.length>0){let r=function(c){return Promise.all(c.map(s=>Promise.resolve(s).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};const t=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),u=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));m=r(l.map(c=>{if(c=S(c,n),c in v)return;v[c]=!0;const s=c.endsWith(".css"),e=s?'[rel="stylesheet"]':"";if(!!n)for(let p=t.length-1;p>=0;p--){const w=t[p];if(w.href===c&&(!s||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${e}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":k,s||(i.as="script"),i.crossOrigin="",i.href=c,u&&i.setAttribute("nonce",u),document.head.appendChild(i),s)return new Promise((p,w)=>{i.addEventListener("load",p),i.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function f(r){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=r,window.dispatchEvent(t),!t.defaultPrevented)throw r}return m.then(r=>{for(const t of r||[])t.status==="rejected"&&f(t.reason);return o().catch(f)})};function P(a={}){const{immediate:o=!1,onNeedRefresh:l,onOfflineReady:n,onRegistered:m,onRegisteredSW:f,onRegisterError:r}=a;let t,d,u;const c=async(e=!0)=>{await d,u==null||u()};async function s(){if("serviceWorker"in navigator){if(t=await b(async()=>{const{Workbox:e}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:e}},[],import.meta.url).then(({Workbox:e})=>new e("./sw.js",{scope:"./",type:"classic"})).catch(e=>{r==null||r(e)}),!t)return;u=()=>{t==null||t.messageSkipWaiting()};{let e=!1;const h=()=>{e=!0,t==null||t.addEventListener("controlling",i=>{i.isUpdate&&window.location.reload()}),l==null||l()};t.addEventListener("installed",i=>{typeof i.isUpdate>"u"?typeof i.isExternal<"u"&&i.isExternal?h():!e&&(n==null||n()):i.isUpdate||n==null||n()}),t.addEventListener("waiting",h)}t.register({immediate:o}).then(e=>{f?f("./sw.js",e):m==null||m(e)}).catch(e=>{r==null||r(e)})}}return d=s(),c}function I(a){const o=a.querySelector("#pwa-toast"),l=o.querySelector(".message #toast-message"),n=o.querySelector("#pwa-close"),m=o.querySelector("#pwa-refresh");console.log("⚙️ Setting up PWA functionality");let f;const r=()=>f==null?void 0:f(!0);function t(s){if(s){requestAnimationFrame(()=>t(!1));return}o.classList.contains("refresh")&&m.removeEventListener("click",r),o.classList.remove("show","refresh")}function d(s){s||m.addEventListener("click",r),requestAnimationFrame(()=>{t(!1),s||o.classList.add("refresh"),o.classList.add("show")})}let u=!1;const c=60*60*1e3;window.addEventListener("load",()=>{n.addEventListener("click",()=>t(!0)),f=P({immediate:!0,onOfflineReady(){l.innerHTML="App ready to work offline",d(!0)},onNeedRefresh(){l.innerHTML="New content available, click on reload button to update",d(!1)},onRegisteredSW(s,e){var h;((h=e==null?void 0:e.active)==null?void 0:h.state)==="activated"?(u=!0,g(c,s,e)):e!=null&&e.installing&&e.installing.addEventListener("statechange",i=>{u=i.target.state==="activated",u&&g(c,s,e)})}})})}function g(a,o,l){setInterval(async()=>{if("onLine"in navigator&&!navigator.onLine)return;const n=await fetch(o,{cache:"no-store",headers:{cache:"no-store","cache-control":"no-cache"}});(n==null?void 0:n.status)===200&&await l.update()},a)}const B=document.querySelector("#app");I(B);const E=document.getElementById("start-button");let y=!1;const C=document.getElementById("participant-id"),q=a=>{a.preventDefault(),document.getElementById("id-counter").innerHTML=`${document.getElementById("participant-id").value.length} / 8`,y=document.getElementById("participant-id").value.length>0,E.disabled=!y};C.addEventListener("keyup",q,{capture:!1});const A=document.getElementsByName("webcam-options");let L=!1;for(const a of A)a.onclick=()=>{a.checked&&(L=a.value)};const T=a=>{a.preventDefault();const l={subjID:document.getElementById("participant-id").value,webcam:L};localStorage.setItem("storedChoices",JSON.stringify(l)),window.location.href="./webcam.html"};E.addEventListener("click",T);
